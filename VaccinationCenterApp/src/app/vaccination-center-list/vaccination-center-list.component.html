
<div class = "connect">
   <a href="http://localhost:4200/connexion">Se connecter</a>
</div>
<div class = "sumit_co2">
   <a href="http://localhost:4200/centers">Revenir aux centres</a>
</div>
  
<div class = "sumit_co3">
   <a href="http://localhost:4200/new_user">Création d'un utilisateur</a>
 </div>
  
<div class = "sumit_co4">
   <a href="http://localhost:4200/reservation">Vers la page de reservation</a>
</div>


<div class = "find_center">
    
    <h2>&nbsp;<strong>Trouver un centre de vaccination </strong></h2><p>(veuillez respecter la casse (majuscule, toute lettre) et seules Nancy et Metz sont disponibles)</p>
    <div class = "recherche">
        &nbsp;&nbsp;<input type="text" [(ngModel)]="city" placeholder="Rechercher par ville" name = "search" class = "search_bar">
        <button class = "search_cent" (click)="searchByCity()"><strong>Rechercher</strong></button>
    </div>
    
    <ul>
        <li *ngFor="let centre of centers" [ngClass]="selected==centre ? 'selected' : ''">
          <strong>Nom:</strong> {{ centre.name }}<br>
          <strong>Adresse:</strong> {{ centre.adress }}<br>
          <strong>Ville:</strong> {{ centre.city }}<br>
          <button class = "select_center" (click)="selectCenter(centre)"><Strong>Sélectionner</Strong></button>
          <hr> <!-- Une ligne horizontale pour séparer chaque centre -->
        </li>
    </ul>


        <!-- <ul>

            <div class = "details">

                <li *ngFor="let aCenter of centers"
                [ngClass]="selected==aCenter ? 'selected' : ''">


             
                <button routerLink="/centers/detail/{{aCenter.id}}">
                    {{aCenter.name}}
                </button>
                <button routerLink="/centers?city={{aCenter.city}}">
                    {{aCenter.name}}
                </button>
                
                <button
                [ngStyle]="{'font-weight' : isSpecialCenter(aCenter) ? 'bold' : 'normal'}"
                (click)="selectCenter(aCenter)">
                {{aCenter.name}}
                </button>

                </li>

            </div>


        </ul> -->
        <!-- <app-vaccination-center (deleted)="onDeleted($event)"></app-vaccination-center> -->
        <br>
</div>



<!--<app-vaccination-center [center] = "selected"></app-vaccination-center> -->
<br><br>
<div *ngIf="selected" class = "detail">
    <h4><strong>&nbsp;{{selected.name | uppercase}}</strong></h4>
    <div class = "adress">
        &nbsp;{{selected.adress | lowercase}}
        {{selected.city | uppercase}}
    </div>
</div>
<br><br>
<div *ngIf="selected" class = centre_selec>
    <br>
    <div class = "titre">
        <h3>Veuillez rentrer vos informations personnelles</h3>
    </div>
    <div class = "Info_perso">
        <br><br>
        <div *ngIf="firstNameRef.invalid && firstNameRef.touched">
            <div class = "erreur"><strong>Le prénom est obligatoire</strong></div>
        </div>
        &nbsp;<label for="fname">First name:</label>
        &nbsp;<input type="text" [(ngModel)]="reservation.firstName" placeholder="prenom" 
                required 
                #firstNameRef="ngModel"
                (ngModelChange)="onFirstNameChange()" 
                [ngStyle]="{'border': '2px solid ' + borderColor}"><br><br>
        
        <div *ngIf="lastNameRef.invalid && lastNameRef.touched">
            <div class = "erreur"><strong>Le nom est obligatoire</strong></div>
        </div>
        &nbsp;<label for="laname">Last name:</label>
        &nbsp;<input type="text" [(ngModel)]="reservation.lastName" placeholder="nom" 
                required
                #lastNameRef="ngModel"
                (ngModelChange)="onFirstNameChange()" 
                [ngStyle]="{'border': '2px solid ' + borderColor}"><br><br>
        
        <div *ngIf="mailRef.invalid && mailRef.touched">
            <div class = "erreur"><strong>L'email est obligatoire</strong></div>
        </div>
        &nbsp;<label for="mail">Mail:</label>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="email" [(ngModel)]="reservation.mail" placeholder="mail@mail.com" 
                required
                #mailRef="ngModel"
                (ngModelChange)="onFirstNameChange()" 
                [ngStyle]="{'border': '2px solid ' + borderColor}"><br><br>
        
        <div *ngIf="dateRDVRef.invalid && dateRDVRef.touched">
            <div class = "erreur"><strong>La date est obligatoire</strong></div>
        </div>
        &nbsp;<label for="date">Date de prise de RDV:</label>
        <!-- &nbsp;<input type="date" [ngModel]= "dateRDV | date:'yyyy-MM-dd'" (ngModelChange)="dateRDV = $event"><br><br> -->
        &nbsp;<input type="date" [(ngModel)]= "reservation.dateRDV" 
            required
            #dateRDVRef="ngModel"
            (ngModelChange)="onFirstNameChange()" 
            [ngStyle]="{'border': '2px solid ' + borderColor}"><br><br>


        <button class = "bout_reserv" (click)="saveReservation(selected)"><strong>Réserver</strong></button>
        <!-- <div class = "sumit_co">
            <a href="http://localhost:4200/reservation">Réserver</a>
        </div> -->
    </div>
</div>


<!-- <div class = "sumit_co">
    <a href="http://localhost:4200/infos_perso">Réserver</a>
</div> -->
